{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hdcha\\\\Documents\\\\GitHub\\\\gem\\\\NDSC\\\\src\\\\components\\\\RhythmGame.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport './RhythmGame.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RhythmGame({\n  wod,\n  onComplete,\n  onBack\n}) {\n  _s();\n  const [gameState, setGameState] = useState('ready'); // ready, playing, finished\n  const [score, setScore] = useState(0);\n  const [combo, setCombo] = useState(0);\n  const [maxCombo, setMaxCombo] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(wod.duration);\n  const [notes, setNotes] = useState([]);\n  const [nextNoteId, setNextNoteId] = useState(0);\n  const [missedNotes, setMissedNotes] = useState(0);\n  const gameLoopRef = useRef();\n  const noteSpawnRef = useRef();\n  const gameAreaRef = useRef();\n\n  // 노트 생성\n  const createNote = useCallback(() => {\n    if (!gameAreaRef.current || gameState !== 'playing') return;\n    const gameArea = gameAreaRef.current.getBoundingClientRect();\n    const newNote = {\n      id: nextNoteId,\n      x: Math.random() * (gameArea.width - 80) + 40,\n      y: -50,\n      speed: 3 + Math.random() * 2,\n      // 속도 조정\n      type: Math.random() > 0.7 ? 'special' : 'normal',\n      // 특수 노트 확률 증가\n      hit: false\n    };\n    setNotes(prev => [...prev, newNote]);\n    setNextNoteId(prev => prev + 1);\n  }, [nextNoteId, gameState]);\n\n  // 게임 시작\n  const startGame = () => {\n    setGameState('playing');\n    setScore(0);\n    setCombo(0);\n    setMaxCombo(0);\n    setTimeLeft(wod.duration);\n    setNotes([]);\n    setMissedNotes(0);\n    setNextNoteId(0);\n\n    // 노트 생성 간격 (난이도에 따라 조절)\n    const spawnInterval = wod.difficulty === 'elite' ? 800 : wod.difficulty === 'advanced' ? 1000 : wod.difficulty === 'intermediate' ? 1200 : 1500;\n    noteSpawnRef.current = setInterval(createNote, spawnInterval);\n\n    // 타이머 (1초마다)\n    const timerRef = setInterval(() => {\n      setTimeLeft(prev => {\n        if (prev <= 1) {\n          endGame();\n          clearInterval(timerRef);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n\n    // 게임 루프 (노트 이동용, 60fps)\n    gameLoopRef.current = setInterval(() => {\n      // 노트 이동 및 놓친 노트 처리\n      setNotes(prev => {\n        let missedCount = 0;\n        const updatedNotes = prev.map(note => ({\n          ...note,\n          y: note.y + note.speed\n        })).filter(note => {\n          if (note.y > window.innerHeight + 50 && !note.hit) {\n            missedCount++;\n            setCombo(0); // 놓치면 콤보 리셋\n            return false;\n          }\n          return note.y < window.innerHeight + 100;\n        });\n        if (missedCount > 0) {\n          setMissedNotes(m => m + missedCount);\n        }\n        return updatedNotes;\n      });\n    }, 16); // 60fps\n  };\n\n  // 게임 종료\n  const endGame = () => {\n    setGameState('finished');\n    clearInterval(gameLoopRef.current);\n    clearInterval(noteSpawnRef.current);\n  };\n\n  // 노트 터치\n  const hitNote = (noteId, event) => {\n    if (event) event.stopPropagation();\n    setNotes(prev => {\n      const targetNote = prev.find(note => note.id === noteId);\n      if (!targetNote || targetNote.hit) return prev;\n\n      // 점수 계산\n      const basePoints = targetNote.type === 'special' ? 50 : 20;\n      const comboBonus = Math.floor(combo * 0.5);\n      const totalPoints = basePoints + comboBonus;\n      setScore(prevScore => prevScore + totalPoints);\n      setCombo(prevCombo => {\n        const newCombo = prevCombo + 1;\n        setMaxCombo(max => Math.max(max, newCombo));\n        return newCombo;\n      });\n\n      // 노트 제거\n      return prev.filter(note => note.id !== noteId);\n    });\n  };\n\n  // 컴포넌트 정리\n  useEffect(() => {\n    return () => {\n      clearInterval(gameLoopRef.current);\n      clearInterval(noteSpawnRef.current);\n    };\n  }, []);\n\n  // 키보드 이벤트 (스페이스바로 노트 치기)\n  useEffect(() => {\n    const handleKeyPress = event => {\n      if (event.code === 'Space' && gameState === 'playing') {\n        event.preventDefault();\n        // 히트존에 있는 가장 가까운 노트 치기\n        const hitZoneY = window.innerHeight - 180; // 히트존 위치\n        const hitableNotes = notes.filter(note => !note.hit && Math.abs(note.y - hitZoneY) < 60).sort((a, b) => Math.abs(a.y - hitZoneY) - Math.abs(b.y - hitZoneY));\n        if (hitableNotes.length > 0) {\n          hitNote(hitableNotes[0].id);\n        } else {\n          // 빗나감 - 콤보 리셋\n          setCombo(0);\n        }\n      }\n    };\n    if (gameState === 'playing') {\n      window.addEventListener('keydown', handleKeyPress);\n      return () => window.removeEventListener('keydown', handleKeyPress);\n    }\n  }, [notes, gameState, hitNote]);\n  const getScoreGrade = score => {\n    if (score >= 2000) return {\n      grade: 'S',\n      color: '#f1c40f'\n    };\n    if (score >= 1500) return {\n      grade: 'A',\n      color: '#e67e22'\n    };\n    if (score >= 1000) return {\n      grade: 'B',\n      color: '#3498db'\n    };\n    if (score >= 500) return {\n      grade: 'C',\n      color: '#2ecc71'\n    };\n    return {\n      grade: 'D',\n      color: '#95a5a6'\n    };\n  };\n  const renderReadyScreen = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rhythm-screen ready-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ready-content fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"wod-title\",\n        children: wod.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wod-emoji\",\n        children: wod.emoji\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"wod-description\",\n        children: wod.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-instructions\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uD83C\\uDFAF \\uB5A8\\uC5B4\\uC9C0\\uB294 \\uB178\\uD2B8\\uB97C \\uD074\\uB9AD\\uD558\\uAC70\\uB098 \\uC2A4\\uD398\\uC774\\uC2A4\\uBC14\\uB97C \\uB204\\uB974\\uC138\\uC694!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2B50 \\uD669\\uAE08 \\uB178\\uD2B8\\uB294 \\uB354 \\uB9CE\\uC740 \\uC810\\uC218\\uB97C \\uC90D\\uB2C8\\uB2E4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uD83D\\uDD25 \\uCF64\\uBCF4\\uB97C \\uC720\\uC9C0\\uD574\\uC11C \\uBCF4\\uB108\\uC2A4 \\uC810\\uC218\\uB97C \\uBC1B\\uC73C\\uC138\\uC694\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary start-button bounce\",\n        onClick: startGame,\n        children: \"\\uD83D\\uDE80 \\uC6B4\\uB3D9 \\uC2DC\\uC791!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n  const renderGameScreen = () => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rhythm-screen game-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-stats\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"\\u23F0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: [timeLeft, \"\\uCD08\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"\\uC810\\uC218\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value\",\n            children: score\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-label\",\n            children: \"\\uCF64\\uBCF4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"stat-value combo\",\n            children: combo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-secondary pause-button\",\n        onClick: endGame,\n        children: \"\\u23F8\\uFE0F \\uC77C\\uC2DC\\uC815\\uC9C0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-area\",\n      ref: gameAreaRef,\n      children: [notes.map(note => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `note ${note.type} ${note.hit ? 'hit' : ''}`,\n        style: {\n          left: `${note.x}px`,\n          top: `${note.y}px`\n        },\n        onClick: e => hitNote(note.id, e),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"note-content\",\n          children: note.type === 'special' ? '⭐' : '💪'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this)\n      }, note.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hit-zone\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hit-zone-line\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"hit-zone-text\",\n          children: \"HIT ZONE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n  const renderFinishedScreen = () => {\n    const grade = getScoreGrade(score);\n    const totalNotes = combo + maxCombo + missedNotes;\n    const hitNotes = totalNotes - missedNotes;\n    const accuracy = totalNotes > 0 ? Math.round(hitNotes / totalNotes * 100) : 100;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"rhythm-screen finished-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"finished-content fade-in\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"finished-title\",\n          children: \"\\uD83C\\uDF89 \\uC6B4\\uB3D9 \\uC644\\uB8CC!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score-display\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"final-score\",\n            style: {\n              color: grade.color\n            },\n            children: score\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"score-grade\",\n            style: {\n              color: grade.color\n            },\n            children: [\"\\uB4F1\\uAE09: \", grade.grade]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-results\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"result-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"result-label\",\n              children: \"\\uCD5C\\uB300 \\uCF64\\uBCF4:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"result-value\",\n              children: maxCombo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"result-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"result-label\",\n              children: \"\\uC815\\uD655\\uB3C4:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"result-value\",\n              children: [accuracy, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"result-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"result-label\",\n              children: \"\\uB193\\uCE5C \\uB178\\uD2B8:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"result-value\",\n              children: missedNotes\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success complete-button\",\n            onClick: () => onComplete(score),\n            children: \"\\u2705 \\uC644\\uB8CC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-warning retry-button\",\n            onClick: startGame,\n            children: \"\\uD83D\\uDD04 \\uB2E4\\uC2DC\\uD558\\uAE30\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"rhythm-game\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"btn btn-secondary back-button\",\n      onClick: onBack,\n      children: \"\\u2190 \\uB4A4\\uB85C\\uAC00\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this), gameState === 'ready' && renderReadyScreen(), gameState === 'playing' && renderGameScreen(), gameState === 'finished' && renderFinishedScreen()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 283,\n    columnNumber: 5\n  }, this);\n}\n_s(RhythmGame, \"LX6dydaDF9aBisUZaOGHvpozYoc=\");\n_c = RhythmGame;\nvar _c;\n$RefreshReg$(_c, \"RhythmGame\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","jsxDEV","_jsxDEV","RhythmGame","wod","onComplete","onBack","_s","gameState","setGameState","score","setScore","combo","setCombo","maxCombo","setMaxCombo","timeLeft","setTimeLeft","duration","notes","setNotes","nextNoteId","setNextNoteId","missedNotes","setMissedNotes","gameLoopRef","noteSpawnRef","gameAreaRef","createNote","current","gameArea","getBoundingClientRect","newNote","id","x","Math","random","width","y","speed","type","hit","prev","startGame","spawnInterval","difficulty","setInterval","timerRef","endGame","clearInterval","missedCount","updatedNotes","map","note","filter","window","innerHeight","m","hitNote","noteId","event","stopPropagation","targetNote","find","basePoints","comboBonus","floor","totalPoints","prevScore","prevCombo","newCombo","max","handleKeyPress","code","preventDefault","hitZoneY","hitableNotes","abs","sort","a","b","length","addEventListener","removeEventListener","getScoreGrade","grade","color","renderReadyScreen","className","children","name","fileName","_jsxFileName","lineNumber","columnNumber","emoji","description","onClick","renderGameScreen","ref","style","left","top","e","renderFinishedScreen","totalNotes","hitNotes","accuracy","round","_c","$RefreshReg$"],"sources":["C:/Users/hdcha/Documents/GitHub/gem/NDSC/src/components/RhythmGame.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport './RhythmGame.css';\r\n\r\nexport default function RhythmGame({ wod, onComplete, onBack }) {\r\n  const [gameState, setGameState] = useState('ready'); // ready, playing, finished\r\n  const [score, setScore] = useState(0);\r\n  const [combo, setCombo] = useState(0);\r\n  const [maxCombo, setMaxCombo] = useState(0);\r\n  const [timeLeft, setTimeLeft] = useState(wod.duration);\r\n  const [notes, setNotes] = useState([]);\r\n  const [nextNoteId, setNextNoteId] = useState(0);\r\n  const [missedNotes, setMissedNotes] = useState(0);\r\n  \r\n  const gameLoopRef = useRef();\r\n  const noteSpawnRef = useRef();\r\n  const gameAreaRef = useRef();\r\n  \r\n  // 노트 생성\r\n  const createNote = useCallback(() => {\r\n    if (!gameAreaRef.current || gameState !== 'playing') return;\r\n    \r\n    const gameArea = gameAreaRef.current.getBoundingClientRect();\r\n    const newNote = {\r\n      id: nextNoteId,\r\n      x: Math.random() * (gameArea.width - 80) + 40,\r\n      y: -50,\r\n      speed: 3 + Math.random() * 2, // 속도 조정\r\n      type: Math.random() > 0.7 ? 'special' : 'normal', // 특수 노트 확률 증가\r\n      hit: false\r\n    };\r\n    \r\n    setNotes(prev => [...prev, newNote]);\r\n    setNextNoteId(prev => prev + 1);\r\n  }, [nextNoteId, gameState]);\r\n\r\n  // 게임 시작\r\n  const startGame = () => {\r\n    setGameState('playing');\r\n    setScore(0);\r\n    setCombo(0);\r\n    setMaxCombo(0);\r\n    setTimeLeft(wod.duration);\r\n    setNotes([]);\r\n    setMissedNotes(0);\r\n    setNextNoteId(0);\r\n    \r\n    // 노트 생성 간격 (난이도에 따라 조절)\r\n    const spawnInterval = wod.difficulty === 'elite' ? 800 : \r\n                         wod.difficulty === 'advanced' ? 1000 : \r\n                         wod.difficulty === 'intermediate' ? 1200 : 1500;\r\n    \r\n    noteSpawnRef.current = setInterval(createNote, spawnInterval);\r\n    \r\n    // 타이머 (1초마다)\r\n    const timerRef = setInterval(() => {\r\n      setTimeLeft(prev => {\r\n        if (prev <= 1) {\r\n          endGame();\r\n          clearInterval(timerRef);\r\n          return 0;\r\n        }\r\n        return prev - 1;\r\n      });\r\n    }, 1000);\r\n    \r\n    // 게임 루프 (노트 이동용, 60fps)\r\n    gameLoopRef.current = setInterval(() => {\r\n      // 노트 이동 및 놓친 노트 처리\r\n      setNotes(prev => {\r\n        let missedCount = 0;\r\n        const updatedNotes = prev.map(note => ({\r\n          ...note,\r\n          y: note.y + note.speed\r\n        })).filter(note => {\r\n          if (note.y > window.innerHeight + 50 && !note.hit) {\r\n            missedCount++;\r\n            setCombo(0); // 놓치면 콤보 리셋\r\n            return false;\r\n          }\r\n          return note.y < window.innerHeight + 100;\r\n        });\r\n        \r\n        if (missedCount > 0) {\r\n          setMissedNotes(m => m + missedCount);\r\n        }\r\n        \r\n        return updatedNotes;\r\n      });\r\n    }, 16); // 60fps\r\n  };\r\n\r\n  // 게임 종료\r\n  const endGame = () => {\r\n    setGameState('finished');\r\n    clearInterval(gameLoopRef.current);\r\n    clearInterval(noteSpawnRef.current);\r\n  };\r\n\r\n  // 노트 터치\r\n  const hitNote = (noteId, event) => {\r\n    if (event) event.stopPropagation();\r\n    \r\n    setNotes(prev => {\r\n      const targetNote = prev.find(note => note.id === noteId);\r\n      if (!targetNote || targetNote.hit) return prev;\r\n      \r\n      // 점수 계산\r\n      const basePoints = targetNote.type === 'special' ? 50 : 20;\r\n      const comboBonus = Math.floor(combo * 0.5);\r\n      const totalPoints = basePoints + comboBonus;\r\n      \r\n      setScore(prevScore => prevScore + totalPoints);\r\n      setCombo(prevCombo => {\r\n        const newCombo = prevCombo + 1;\r\n        setMaxCombo(max => Math.max(max, newCombo));\r\n        return newCombo;\r\n      });\r\n      \r\n      // 노트 제거\r\n      return prev.filter(note => note.id !== noteId);\r\n    });\r\n  };\r\n\r\n  // 컴포넌트 정리\r\n  useEffect(() => {\r\n    return () => {\r\n      clearInterval(gameLoopRef.current);\r\n      clearInterval(noteSpawnRef.current);\r\n    };\r\n  }, []);\r\n\r\n  // 키보드 이벤트 (스페이스바로 노트 치기)\r\n  useEffect(() => {\r\n    const handleKeyPress = (event) => {\r\n      if (event.code === 'Space' && gameState === 'playing') {\r\n        event.preventDefault();\r\n        // 히트존에 있는 가장 가까운 노트 치기\r\n        const hitZoneY = window.innerHeight - 180; // 히트존 위치\r\n        const hitableNotes = notes\r\n          .filter(note => !note.hit && Math.abs(note.y - hitZoneY) < 60)\r\n          .sort((a, b) => Math.abs(a.y - hitZoneY) - Math.abs(b.y - hitZoneY));\r\n        \r\n        if (hitableNotes.length > 0) {\r\n          hitNote(hitableNotes[0].id);\r\n        } else {\r\n          // 빗나감 - 콤보 리셋\r\n          setCombo(0);\r\n        }\r\n      }\r\n    };\r\n\r\n    if (gameState === 'playing') {\r\n      window.addEventListener('keydown', handleKeyPress);\r\n      return () => window.removeEventListener('keydown', handleKeyPress);\r\n    }\r\n  }, [notes, gameState, hitNote]);\r\n\r\n  const getScoreGrade = (score) => {\r\n    if (score >= 2000) return { grade: 'S', color: '#f1c40f' };\r\n    if (score >= 1500) return { grade: 'A', color: '#e67e22' };\r\n    if (score >= 1000) return { grade: 'B', color: '#3498db' };\r\n    if (score >= 500) return { grade: 'C', color: '#2ecc71' };\r\n    return { grade: 'D', color: '#95a5a6' };\r\n  };\r\n\r\n  const renderReadyScreen = () => (\r\n    <div className=\"rhythm-screen ready-screen\">\r\n      <div className=\"ready-content fade-in\">\r\n        <h2 className=\"wod-title\">{wod.name}</h2>\r\n        <div className=\"wod-emoji\">{wod.emoji}</div>\r\n        <p className=\"wod-description\">{wod.description}</p>\r\n        <div className=\"game-instructions\">\r\n          <p>🎯 떨어지는 노트를 클릭하거나 스페이스바를 누르세요!</p>\r\n          <p>⭐ 황금 노트는 더 많은 점수를 줍니다</p>\r\n          <p>🔥 콤보를 유지해서 보너스 점수를 받으세요</p>\r\n        </div>\r\n        <button className=\"btn btn-primary start-button bounce\" onClick={startGame}>\r\n          🚀 운동 시작!\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderGameScreen = () => (\r\n    <div className=\"rhythm-screen game-screen\">\r\n      <div className=\"game-header\">\r\n        <div className=\"game-stats\">\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">⏰</span>\r\n            <span className=\"stat-value\">{timeLeft}초</span>\r\n          </div>\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">점수</span>\r\n            <span className=\"stat-value\">{score}</span>\r\n          </div>\r\n          <div className=\"stat-item\">\r\n            <span className=\"stat-label\">콤보</span>\r\n            <span className=\"stat-value combo\">{combo}</span>\r\n          </div>\r\n        </div>\r\n        <button className=\"btn btn-secondary pause-button\" onClick={endGame}>\r\n          ⏸️ 일시정지\r\n        </button>\r\n      </div>\r\n      \r\n      <div className=\"game-area\" ref={gameAreaRef}>\r\n        {notes.map(note => (\r\n          <div\r\n            key={note.id}\r\n            className={`note ${note.type} ${note.hit ? 'hit' : ''}`}\r\n            style={{\r\n              left: `${note.x}px`,\r\n              top: `${note.y}px`,\r\n            }}\r\n            onClick={(e) => hitNote(note.id, e)}\r\n          >\r\n            <div className=\"note-content\">\r\n              {note.type === 'special' ? '⭐' : '💪'}\r\n            </div>\r\n          </div>\r\n        ))}\r\n        \r\n        <div className=\"hit-zone\">\r\n          <div className=\"hit-zone-line\"></div>\r\n          <span className=\"hit-zone-text\">HIT ZONE</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderFinishedScreen = () => {\r\n    const grade = getScoreGrade(score);\r\n    const totalNotes = combo + maxCombo + missedNotes;\r\n    const hitNotes = totalNotes - missedNotes;\r\n    const accuracy = totalNotes > 0 ? Math.round((hitNotes / totalNotes) * 100) : 100;\r\n    \r\n    return (\r\n      <div className=\"rhythm-screen finished-screen\">\r\n        <div className=\"finished-content fade-in\">\r\n          <h2 className=\"finished-title\">🎉 운동 완료!</h2>\r\n          \r\n          <div className=\"score-display\">\r\n            <div className=\"final-score\" style={{ color: grade.color }}>\r\n              {score}\r\n            </div>\r\n            <div className=\"score-grade\" style={{ color: grade.color }}>\r\n              등급: {grade.grade}\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"game-results\">\r\n            <div className=\"result-item\">\r\n              <span className=\"result-label\">최대 콤보:</span>\r\n              <span className=\"result-value\">{maxCombo}</span>\r\n            </div>\r\n            <div className=\"result-item\">\r\n              <span className=\"result-label\">정확도:</span>\r\n              <span className=\"result-value\">{accuracy}%</span>\r\n            </div>\r\n            <div className=\"result-item\">\r\n              <span className=\"result-label\">놓친 노트:</span>\r\n              <span className=\"result-value\">{missedNotes}</span>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"result-buttons\">\r\n            <button \r\n              className=\"btn btn-success complete-button\" \r\n              onClick={() => onComplete(score)}\r\n            >\r\n              ✅ 완료\r\n            </button>\r\n            <button className=\"btn btn-warning retry-button\" onClick={startGame}>\r\n              🔄 다시하기\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"rhythm-game\">\r\n      <button className=\"btn btn-secondary back-button\" onClick={onBack}>\r\n        ← 뒤로가기\r\n      </button>\r\n      \r\n      {gameState === 'ready' && renderReadyScreen()}\r\n      {gameState === 'playing' && renderGameScreen()}\r\n      {gameState === 'finished' && renderFinishedScreen()}\r\n    </div>\r\n  );\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AACvE,OAAO,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,eAAe,SAASC,UAAUA,CAAC;EAAEC,GAAG;EAAEC,UAAU;EAAEC;AAAO,CAAC,EAAE;EAAAC,EAAA;EAC9D,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC;EACrD,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACiB,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,CAAC,CAAC;EAC3C,MAAM,CAACmB,QAAQ,EAAEC,WAAW,CAAC,GAAGpB,QAAQ,CAACO,GAAG,CAACc,QAAQ,CAAC;EACtD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACwB,UAAU,EAAEC,aAAa,CAAC,GAAGzB,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM,CAAC0B,WAAW,EAAEC,cAAc,CAAC,GAAG3B,QAAQ,CAAC,CAAC,CAAC;EAEjD,MAAM4B,WAAW,GAAG1B,MAAM,CAAC,CAAC;EAC5B,MAAM2B,YAAY,GAAG3B,MAAM,CAAC,CAAC;EAC7B,MAAM4B,WAAW,GAAG5B,MAAM,CAAC,CAAC;;EAE5B;EACA,MAAM6B,UAAU,GAAG5B,WAAW,CAAC,MAAM;IACnC,IAAI,CAAC2B,WAAW,CAACE,OAAO,IAAIrB,SAAS,KAAK,SAAS,EAAE;IAErD,MAAMsB,QAAQ,GAAGH,WAAW,CAACE,OAAO,CAACE,qBAAqB,CAAC,CAAC;IAC5D,MAAMC,OAAO,GAAG;MACdC,EAAE,EAAEZ,UAAU;MACda,CAAC,EAAEC,IAAI,CAACC,MAAM,CAAC,CAAC,IAAIN,QAAQ,CAACO,KAAK,GAAG,EAAE,CAAC,GAAG,EAAE;MAC7CC,CAAC,EAAE,CAAC,EAAE;MACNC,KAAK,EAAE,CAAC,GAAGJ,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,CAAC;MAAE;MAC9BI,IAAI,EAAEL,IAAI,CAACC,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,SAAS,GAAG,QAAQ;MAAE;MAClDK,GAAG,EAAE;IACP,CAAC;IAEDrB,QAAQ,CAACsB,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEV,OAAO,CAAC,CAAC;IACpCV,aAAa,CAACoB,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;EACjC,CAAC,EAAE,CAACrB,UAAU,EAAEb,SAAS,CAAC,CAAC;;EAE3B;EACA,MAAMmC,SAAS,GAAGA,CAAA,KAAM;IACtBlC,YAAY,CAAC,SAAS,CAAC;IACvBE,QAAQ,CAAC,CAAC,CAAC;IACXE,QAAQ,CAAC,CAAC,CAAC;IACXE,WAAW,CAAC,CAAC,CAAC;IACdE,WAAW,CAACb,GAAG,CAACc,QAAQ,CAAC;IACzBE,QAAQ,CAAC,EAAE,CAAC;IACZI,cAAc,CAAC,CAAC,CAAC;IACjBF,aAAa,CAAC,CAAC,CAAC;;IAEhB;IACA,MAAMsB,aAAa,GAAGxC,GAAG,CAACyC,UAAU,KAAK,OAAO,GAAG,GAAG,GACjCzC,GAAG,CAACyC,UAAU,KAAK,UAAU,GAAG,IAAI,GACpCzC,GAAG,CAACyC,UAAU,KAAK,cAAc,GAAG,IAAI,GAAG,IAAI;IAEpEnB,YAAY,CAACG,OAAO,GAAGiB,WAAW,CAAClB,UAAU,EAAEgB,aAAa,CAAC;;IAE7D;IACA,MAAMG,QAAQ,GAAGD,WAAW,CAAC,MAAM;MACjC7B,WAAW,CAACyB,IAAI,IAAI;QAClB,IAAIA,IAAI,IAAI,CAAC,EAAE;UACbM,OAAO,CAAC,CAAC;UACTC,aAAa,CAACF,QAAQ,CAAC;UACvB,OAAO,CAAC;QACV;QACA,OAAOL,IAAI,GAAG,CAAC;MACjB,CAAC,CAAC;IACJ,CAAC,EAAE,IAAI,CAAC;;IAER;IACAjB,WAAW,CAACI,OAAO,GAAGiB,WAAW,CAAC,MAAM;MACtC;MACA1B,QAAQ,CAACsB,IAAI,IAAI;QACf,IAAIQ,WAAW,GAAG,CAAC;QACnB,MAAMC,YAAY,GAAGT,IAAI,CAACU,GAAG,CAACC,IAAI,KAAK;UACrC,GAAGA,IAAI;UACPf,CAAC,EAAEe,IAAI,CAACf,CAAC,GAAGe,IAAI,CAACd;QACnB,CAAC,CAAC,CAAC,CAACe,MAAM,CAACD,IAAI,IAAI;UACjB,IAAIA,IAAI,CAACf,CAAC,GAAGiB,MAAM,CAACC,WAAW,GAAG,EAAE,IAAI,CAACH,IAAI,CAACZ,GAAG,EAAE;YACjDS,WAAW,EAAE;YACbrC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;YACb,OAAO,KAAK;UACd;UACA,OAAOwC,IAAI,CAACf,CAAC,GAAGiB,MAAM,CAACC,WAAW,GAAG,GAAG;QAC1C,CAAC,CAAC;QAEF,IAAIN,WAAW,GAAG,CAAC,EAAE;UACnB1B,cAAc,CAACiC,CAAC,IAAIA,CAAC,GAAGP,WAAW,CAAC;QACtC;QAEA,OAAOC,YAAY;MACrB,CAAC,CAAC;IACJ,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;EACV,CAAC;;EAED;EACA,MAAMH,OAAO,GAAGA,CAAA,KAAM;IACpBvC,YAAY,CAAC,UAAU,CAAC;IACxBwC,aAAa,CAACxB,WAAW,CAACI,OAAO,CAAC;IAClCoB,aAAa,CAACvB,YAAY,CAACG,OAAO,CAAC;EACrC,CAAC;;EAED;EACA,MAAM6B,OAAO,GAAGA,CAACC,MAAM,EAAEC,KAAK,KAAK;IACjC,IAAIA,KAAK,EAAEA,KAAK,CAACC,eAAe,CAAC,CAAC;IAElCzC,QAAQ,CAACsB,IAAI,IAAI;MACf,MAAMoB,UAAU,GAAGpB,IAAI,CAACqB,IAAI,CAACV,IAAI,IAAIA,IAAI,CAACpB,EAAE,KAAK0B,MAAM,CAAC;MACxD,IAAI,CAACG,UAAU,IAAIA,UAAU,CAACrB,GAAG,EAAE,OAAOC,IAAI;;MAE9C;MACA,MAAMsB,UAAU,GAAGF,UAAU,CAACtB,IAAI,KAAK,SAAS,GAAG,EAAE,GAAG,EAAE;MAC1D,MAAMyB,UAAU,GAAG9B,IAAI,CAAC+B,KAAK,CAACtD,KAAK,GAAG,GAAG,CAAC;MAC1C,MAAMuD,WAAW,GAAGH,UAAU,GAAGC,UAAU;MAE3CtD,QAAQ,CAACyD,SAAS,IAAIA,SAAS,GAAGD,WAAW,CAAC;MAC9CtD,QAAQ,CAACwD,SAAS,IAAI;QACpB,MAAMC,QAAQ,GAAGD,SAAS,GAAG,CAAC;QAC9BtD,WAAW,CAACwD,GAAG,IAAIpC,IAAI,CAACoC,GAAG,CAACA,GAAG,EAAED,QAAQ,CAAC,CAAC;QAC3C,OAAOA,QAAQ;MACjB,CAAC,CAAC;;MAEF;MACA,OAAO5B,IAAI,CAACY,MAAM,CAACD,IAAI,IAAIA,IAAI,CAACpB,EAAE,KAAK0B,MAAM,CAAC;IAChD,CAAC,CAAC;EACJ,CAAC;;EAED;EACA7D,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACXmD,aAAa,CAACxB,WAAW,CAACI,OAAO,CAAC;MAClCoB,aAAa,CAACvB,YAAY,CAACG,OAAO,CAAC;IACrC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA/B,SAAS,CAAC,MAAM;IACd,MAAM0E,cAAc,GAAIZ,KAAK,IAAK;MAChC,IAAIA,KAAK,CAACa,IAAI,KAAK,OAAO,IAAIjE,SAAS,KAAK,SAAS,EAAE;QACrDoD,KAAK,CAACc,cAAc,CAAC,CAAC;QACtB;QACA,MAAMC,QAAQ,GAAGpB,MAAM,CAACC,WAAW,GAAG,GAAG,CAAC,CAAC;QAC3C,MAAMoB,YAAY,GAAGzD,KAAK,CACvBmC,MAAM,CAACD,IAAI,IAAI,CAACA,IAAI,CAACZ,GAAG,IAAIN,IAAI,CAAC0C,GAAG,CAACxB,IAAI,CAACf,CAAC,GAAGqC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAC7DG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK7C,IAAI,CAAC0C,GAAG,CAACE,CAAC,CAACzC,CAAC,GAAGqC,QAAQ,CAAC,GAAGxC,IAAI,CAAC0C,GAAG,CAACG,CAAC,CAAC1C,CAAC,GAAGqC,QAAQ,CAAC,CAAC;QAEtE,IAAIC,YAAY,CAACK,MAAM,GAAG,CAAC,EAAE;UAC3BvB,OAAO,CAACkB,YAAY,CAAC,CAAC,CAAC,CAAC3C,EAAE,CAAC;QAC7B,CAAC,MAAM;UACL;UACApB,QAAQ,CAAC,CAAC,CAAC;QACb;MACF;IACF,CAAC;IAED,IAAIL,SAAS,KAAK,SAAS,EAAE;MAC3B+C,MAAM,CAAC2B,gBAAgB,CAAC,SAAS,EAAEV,cAAc,CAAC;MAClD,OAAO,MAAMjB,MAAM,CAAC4B,mBAAmB,CAAC,SAAS,EAAEX,cAAc,CAAC;IACpE;EACF,CAAC,EAAE,CAACrD,KAAK,EAAEX,SAAS,EAAEkD,OAAO,CAAC,CAAC;EAE/B,MAAM0B,aAAa,GAAI1E,KAAK,IAAK;IAC/B,IAAIA,KAAK,IAAI,IAAI,EAAE,OAAO;MAAE2E,KAAK,EAAE,GAAG;MAAEC,KAAK,EAAE;IAAU,CAAC;IAC1D,IAAI5E,KAAK,IAAI,IAAI,EAAE,OAAO;MAAE2E,KAAK,EAAE,GAAG;MAAEC,KAAK,EAAE;IAAU,CAAC;IAC1D,IAAI5E,KAAK,IAAI,IAAI,EAAE,OAAO;MAAE2E,KAAK,EAAE,GAAG;MAAEC,KAAK,EAAE;IAAU,CAAC;IAC1D,IAAI5E,KAAK,IAAI,GAAG,EAAE,OAAO;MAAE2E,KAAK,EAAE,GAAG;MAAEC,KAAK,EAAE;IAAU,CAAC;IACzD,OAAO;MAAED,KAAK,EAAE,GAAG;MAAEC,KAAK,EAAE;IAAU,CAAC;EACzC,CAAC;EAED,MAAMC,iBAAiB,GAAGA,CAAA,kBACxBrF,OAAA;IAAKsF,SAAS,EAAC,4BAA4B;IAAAC,QAAA,eACzCvF,OAAA;MAAKsF,SAAS,EAAC,uBAAuB;MAAAC,QAAA,gBACpCvF,OAAA;QAAIsF,SAAS,EAAC,WAAW;QAAAC,QAAA,EAAErF,GAAG,CAACsF;MAAI;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACzC5F,OAAA;QAAKsF,SAAS,EAAC,WAAW;QAAAC,QAAA,EAAErF,GAAG,CAAC2F;MAAK;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC5C5F,OAAA;QAAGsF,SAAS,EAAC,iBAAiB;QAAAC,QAAA,EAAErF,GAAG,CAAC4F;MAAW;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACpD5F,OAAA;QAAKsF,SAAS,EAAC,mBAAmB;QAAAC,QAAA,gBAChCvF,OAAA;UAAAuF,QAAA,EAAG;QAA8B;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACrC5F,OAAA;UAAAuF,QAAA,EAAG;QAAqB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC5B5F,OAAA;UAAAuF,QAAA,EAAG;QAAwB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5B,CAAC,eACN5F,OAAA;QAAQsF,SAAS,EAAC,qCAAqC;QAACS,OAAO,EAAEtD,SAAU;QAAA8C,QAAA,EAAC;MAE5E;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACN;EAED,MAAMI,gBAAgB,GAAGA,CAAA,kBACvBhG,OAAA;IAAKsF,SAAS,EAAC,2BAA2B;IAAAC,QAAA,gBACxCvF,OAAA;MAAKsF,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC1BvF,OAAA;QAAKsF,SAAS,EAAC,YAAY;QAAAC,QAAA,gBACzBvF,OAAA;UAAKsF,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBvF,OAAA;YAAMsF,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACrC5F,OAAA;YAAMsF,SAAS,EAAC,YAAY;YAAAC,QAAA,GAAEzE,QAAQ,EAAC,QAAC;UAAA;YAAA2E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC5C,CAAC,eACN5F,OAAA;UAAKsF,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBvF,OAAA;YAAMsF,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAE;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACtC5F,OAAA;YAAMsF,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAE/E;UAAK;YAAAiF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxC,CAAC,eACN5F,OAAA;UAAKsF,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxBvF,OAAA;YAAMsF,SAAS,EAAC,YAAY;YAAAC,QAAA,EAAC;UAAE;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eACtC5F,OAAA;YAAMsF,SAAS,EAAC,kBAAkB;YAAAC,QAAA,EAAE7E;UAAK;YAAA+E,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9C,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACN5F,OAAA;QAAQsF,SAAS,EAAC,gCAAgC;QAACS,OAAO,EAAEjD,OAAQ;QAAAyC,QAAA,EAAC;MAErE;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAEN5F,OAAA;MAAKsF,SAAS,EAAC,WAAW;MAACW,GAAG,EAAExE,WAAY;MAAA8D,QAAA,GACzCtE,KAAK,CAACiC,GAAG,CAACC,IAAI,iBACbnD,OAAA;QAEEsF,SAAS,EAAE,QAAQnC,IAAI,CAACb,IAAI,IAAIa,IAAI,CAACZ,GAAG,GAAG,KAAK,GAAG,EAAE,EAAG;QACxD2D,KAAK,EAAE;UACLC,IAAI,EAAE,GAAGhD,IAAI,CAACnB,CAAC,IAAI;UACnBoE,GAAG,EAAE,GAAGjD,IAAI,CAACf,CAAC;QAChB,CAAE;QACF2D,OAAO,EAAGM,CAAC,IAAK7C,OAAO,CAACL,IAAI,CAACpB,EAAE,EAAEsE,CAAC,CAAE;QAAAd,QAAA,eAEpCvF,OAAA;UAAKsF,SAAS,EAAC,cAAc;UAAAC,QAAA,EAC1BpC,IAAI,CAACb,IAAI,KAAK,SAAS,GAAG,GAAG,GAAG;QAAI;UAAAmD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClC;MAAC,GAVDzC,IAAI,CAACpB,EAAE;QAAA0D,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAWT,CACN,CAAC,eAEF5F,OAAA;QAAKsF,SAAS,EAAC,UAAU;QAAAC,QAAA,gBACvBvF,OAAA;UAAKsF,SAAS,EAAC;QAAe;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eACrC5F,OAAA;UAAMsF,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAC;QAAQ;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC5C,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CACN;EAED,MAAMU,oBAAoB,GAAGA,CAAA,KAAM;IACjC,MAAMnB,KAAK,GAAGD,aAAa,CAAC1E,KAAK,CAAC;IAClC,MAAM+F,UAAU,GAAG7F,KAAK,GAAGE,QAAQ,GAAGS,WAAW;IACjD,MAAMmF,QAAQ,GAAGD,UAAU,GAAGlF,WAAW;IACzC,MAAMoF,QAAQ,GAAGF,UAAU,GAAG,CAAC,GAAGtE,IAAI,CAACyE,KAAK,CAAEF,QAAQ,GAAGD,UAAU,GAAI,GAAG,CAAC,GAAG,GAAG;IAEjF,oBACEvG,OAAA;MAAKsF,SAAS,EAAC,+BAA+B;MAAAC,QAAA,eAC5CvF,OAAA;QAAKsF,SAAS,EAAC,0BAA0B;QAAAC,QAAA,gBACvCvF,OAAA;UAAIsF,SAAS,EAAC,gBAAgB;UAAAC,QAAA,EAAC;QAAS;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAE7C5F,OAAA;UAAKsF,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5BvF,OAAA;YAAKsF,SAAS,EAAC,aAAa;YAACY,KAAK,EAAE;cAAEd,KAAK,EAAED,KAAK,CAACC;YAAM,CAAE;YAAAG,QAAA,EACxD/E;UAAK;YAAAiF,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACN5F,OAAA;YAAKsF,SAAS,EAAC,aAAa;YAACY,KAAK,EAAE;cAAEd,KAAK,EAAED,KAAK,CAACC;YAAM,CAAE;YAAAG,QAAA,GAAC,gBACtD,EAACJ,KAAK,CAACA,KAAK;UAAA;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACb,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAEN5F,OAAA;UAAKsF,SAAS,EAAC,cAAc;UAAAC,QAAA,gBAC3BvF,OAAA;YAAKsF,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAC1BvF,OAAA;cAAMsF,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAM;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC5C5F,OAAA;cAAMsF,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAE3E;YAAQ;cAAA6E,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7C,CAAC,eACN5F,OAAA;YAAKsF,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAC1BvF,OAAA;cAAMsF,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAI;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC1C5F,OAAA;cAAMsF,SAAS,EAAC,cAAc;cAAAC,QAAA,GAAEkB,QAAQ,EAAC,GAAC;YAAA;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9C,CAAC,eACN5F,OAAA;YAAKsF,SAAS,EAAC,aAAa;YAAAC,QAAA,gBAC1BvF,OAAA;cAAMsF,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAC;YAAM;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC5C5F,OAAA;cAAMsF,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAElE;YAAW;cAAAoE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAEN5F,OAAA;UAAKsF,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC7BvF,OAAA;YACEsF,SAAS,EAAC,iCAAiC;YAC3CS,OAAO,EAAEA,CAAA,KAAM5F,UAAU,CAACK,KAAK,CAAE;YAAA+E,QAAA,EAClC;UAED;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACT5F,OAAA;YAAQsF,SAAS,EAAC,8BAA8B;YAACS,OAAO,EAAEtD,SAAU;YAAA8C,QAAA,EAAC;UAErE;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV,CAAC;EAED,oBACE5F,OAAA;IAAKsF,SAAS,EAAC,aAAa;IAAAC,QAAA,gBAC1BvF,OAAA;MAAQsF,SAAS,EAAC,+BAA+B;MAACS,OAAO,EAAE3F,MAAO;MAAAmF,QAAA,EAAC;IAEnE;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EAERtF,SAAS,KAAK,OAAO,IAAI+E,iBAAiB,CAAC,CAAC,EAC5C/E,SAAS,KAAK,SAAS,IAAI0F,gBAAgB,CAAC,CAAC,EAC7C1F,SAAS,KAAK,UAAU,IAAIgG,oBAAoB,CAAC,CAAC;EAAA;IAAAb,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAChD,CAAC;AAEV;AAACvF,EAAA,CAjSuBJ,UAAU;AAAA0G,EAAA,GAAV1G,UAAU;AAAA,IAAA0G,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}